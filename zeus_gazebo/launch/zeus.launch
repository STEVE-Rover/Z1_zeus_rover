<?xml version="1.0" ?>

<launch>

  <arg name="world" default="$(find zeus_gazebo)/worlds/mars.world"/>

  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" value="$(arg world)"/>
  </include>

  <!-- Convert an xacro and put on parameter server -->
  <param name="robot_description" command="$(find xacro)/xacro.py $(find zeus_description)rover.urdf.xacro" />

  <!-- Spawn a robot into Gazebo -->
  <node name="zeus_spawn" pkg="gazebo_ros" type="spawn_model" args="-param robot_description -urdf -x 0 -y 0 -z 1 -model zeus" />

  <!-- Send Twist commands -->
  <node name="teleop" pkg="zeus_description" type="keyboard_teleop.py"/>

  <rosparam command="load" file="$(find zeus_description)diff_controller.yaml" ns="zeus_joint_state_controller"/>

  <node name="zeus_controller_spawner" pkg="controller_manager" type="spawner" args="zeus_joint_state_controller --shutdown-timeout 3"/>

</launch>
